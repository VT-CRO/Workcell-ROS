[gcode_macro PRINT_END]
gcode:
    {% set author = params.AUTHOR|default(0) %}
    {% set name = params.NAME|default(0) %}
    {% set height = params.HEIGHT|default(0) %}
    RUN_SHELL_COMMAND CMD=klipper2ros PARAMS="{height},{name},{author}"

[gcode_shell_command klipper2ros]
command: python3 klipper2ros.py
timeout: 30.
verbose: True